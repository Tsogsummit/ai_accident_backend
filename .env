# ==========================================
# AI Accident Detection - Environment Config
# ==========================================

NODE_ENV=development
LOG_LEVEL=info

JWT_SECRET=$(openssl rand -hex 64)

# ==========================================
# Database Configuration (PostgreSQL)
# ==========================================
DB_HOST=postgres
DB_PORT=5432
DB_NAME=accident_db
DB_USER=postgres
DB_PASSWORD=postgres123
DB_MAX_CONNECTIONS=20
DB_IDLE_TIMEOUT=30000
DB_CONNECTION_TIMEOUT=2000

# ==========================================
# Redis Configuration
# ==========================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0

# ==========================================
# JWT Configuration (GENERATED)
# ==========================================
JWT_SECRET=${JWT_SECRET}
JWT_EXPIRES_IN=7d
JWT_REFRESH_EXPIRES_IN=30d

# ==========================================
# Google Cloud Platform
# ==========================================
GCP_PROJECT_ID=ultra-sound-388300
GCP_KEY_FILE=./gcp-key.json
GCS_BUCKET_NAME=accident-videos
GCP_REGION=asia-northeast1

# ==========================================
# Firebase
# ==========================================
FIREBASE_CREDENTIALS=./firebase.json
FIREBASE_DATABASE_URL=https://aiaccident-default-rtdb.asia-southeast1.firebasedatabase.app/

# ==========================================
# Google Maps API
# ==========================================
GOOGLE_MAPS_API_KEY=AIzaSyAwJZ0luHRvQy9F7aIHYxpOXDP2KUFILHY

# ==========================================
# Service URLs
# ==========================================
USER_SERVICE_URL=http://user-service:3001
ACCIDENT_SERVICE_URL=http://accident-service:3002
VIDEO_SERVICE_URL=http://video-service:3003
AI_SERVICE_URL=http://ai-detection-service:3004
NOTIFICATION_SERVICE_URL=http://notification-service:3005
MAP_SERVICE_URL=http://map-service:3006
REPORT_SERVICE_URL=http://report-service:3007
CAMERA_SERVICE_URL=http://camera-service:3008
ADMIN_SERVICE_URL=http://admin-service:3009

# ==========================================
# API Gateway
# ==========================================
PORT=3000
ALLOWED_ORIGINS=*

# ==========================================
# Rate Limiting
# ==========================================
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# ==========================================
# File Upload
# ==========================================
MAX_FILE_SIZE=52428800
ALLOWED_VIDEO_TYPES=video/mp4,video/quicktime,video/x-msvideo
ALLOWED_IMAGE_TYPES=image/jpeg,image/png,image/webp

# ==========================================
# AI Detection
# ==========================================
AI_CONFIDENCE_THRESHOLD=0.5
AI_MIN_ACCIDENT_FRAME_RATIO=0.3
AI_FRAME_INTERVAL=2

