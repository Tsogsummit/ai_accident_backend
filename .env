# ==========================================
# .env.example - Environment Variables
# ==========================================
# Copy this file to .env and fill in your values
# Never commit .env file to version control!

# ==========================================
# General Configuration
# ==========================================
NODE_ENV=production
LOG_LEVEL=info

# ==========================================
# Database Configuration (PostgreSQL)
# ==========================================
DB_HOST=localhost
DB_PORT=5432
DB_NAME=accident_db
DB_USER=postgres
DB_PASSWORD=your_strong_password_here
DB_MAX_CONNECTIONS=20
DB_IDLE_TIMEOUT=30000
DB_CONNECTION_TIMEOUT=2000

# ==========================================
# Redis Configuration
# ==========================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# ==========================================
# JWT Configuration
# ==========================================
JWT_SECRET=Kf9!sN7d3$Gv@zP1qR8xLwT5eY0uB2mH4cZ
JWT_EXPIRES_IN=7d
JWT_REFRESH_EXPIRES_IN=30d

# ==========================================
# Google Cloud Platform
# ==========================================
GCP_PROJECT_ID=ultra-sound-388300
GCP_KEY_FILE=./gcp-key.json
GCS_BUCKET_NAME=accident-videos-bucket
GCP_REGION=asia-northeast1

# ==========================================
# Firebase (Push Notifications)
# ==========================================
FCM_SERVER_KEY=BGx4Fa5LZ6ZuEO1_hmkC_Li7f38uTExNIbBL61GDFEwZJ3ptMLFU54WooaqLa81LNZRyvovqJVjzJIZNdc_X7e8	
FIREBASE_PROJECT_ID=aiaccident
FIREBASE_CLIENT_EMAIL=firebase-adminsdk-fbsvc@aiaccident.iam.gserviceaccount.com
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQCW+IgAqoG6jc82\ncqkAqMzfJpYkBuWTP0qh8sCtvT6MNVGB+Znkc00/7zpYnjt/315X/ZFa0sWqgRog\nFF3JjhC47mCfbdpC9AU3DnKXPYiCLIRAGcdWE5h2y+rLeKk0B23VYcCgJn/3x0/d\nSnVRdQHZWxXTlxutirVWoeHv+BXaK+EFcqFbp4gdXd8f66wR9UAnnB35wBgqMHv2\nXf15rD9r8GzRlncE4Y22X5/xA5CzyqDp3wlhx7S0sIR+BguPBy2ghbQLj0+CTkGT\nZtWYIUYGea+oGoDwGwcqS3HEJd745ozHpS3B78egx8ZAcvSRxn9YERZvFSJqzDjM\nCIuBenWHAgMBAAECggEASjLoFPu4OsoLt4TvDwXnex1p2VcSaiZHNgUrMbi7Dwn9\nf1X/jsokg3G+SWOrdpN/uNtFH1BMGhrNjkq0NaV/DoUKNBE3noR0M7UEGNUDTIc4\nkJCa6fFDk89xHIO3FX05PBCJLaz+Y/cvh2Fa+6f4Oq2Lsqyny8lKisORWfGiO9Fn\npUJPJqrDilj29e8K+y78zH177Hb5u0/Gt1UH23xDsixAsEV8OFaKrbdCBnkCZqbB\neFTDnYpPArxHve9jNjOzU/k/zxYVQuw1kuITv8Z9fHhdxuh/1L87Q0cEVaU43hmg\nN4LuLtZU4JXq21eM5uz/7/og/E01pQvJnhoyJnu7oQKBgQDMwhzu3FF+1xprTOgf\nJqbIusiBIusZN9Qx5HQoF1rmEIXIA3PjHVByuETH8VfS/1OjhSFkFqOBKXDw0v89\nccu5n/++taWT6AYjaCrIAug/mmWxu8hJGpgHJYoWpEPELXJF54slA/Q4jQofWsgD\nz3rBlD2YigGx/Om8I8GGsH8J2QKBgQC8wIN9TXzmR3vCrPWmfleC49nrgeDaPcYG\n9ym5h9zGz7GkmCr3fg+klWaGcKpBe5zWI3CBHM5cOoURp9KUJVkBxzsLMILmn9FP\nPv7lt7r6ac5h+fEKumKe2B40qukQGjKPw5NiXSRdifNiP+NuiakKxZL6vHHsbe/Z\nlZn59EV+XwKBgEAeAMVjRDm9zc4P1Rf8GHn+005sysWoz8+XxC/RsGsefWX2ftF9\nmnVx8kfR8ThnL5+izqPy2txVR8KBr99jxPGpgoILi3/XRiTMN6lOD7/q7zFKphsO\nMtD6FlWktnu153SwXsgGhvE2aRcMbFmVHNGFRAyCGqnLkr2RTMaKeh1xAoGAXWyU\nKJMP/RLoqOTe+beTLRAGLtEsMBlfSNdRaalbl3P5o1RGABX/PCFOi8B8JMlASaVk\n7CML6Q52CtUcH4OU2JJ6IQGz6N61xRmTJLSZ8ZQpOMlzizHR2nlyCfOGRBgTaqEM\n9CTR+RJsyvaAZZfxeYltRHm9kZ6glvu7KMLFGtUCgYEAmRYdPREMcJiuj6Lb4e3K\neHxvl2dEwwP5GJQy4DqnfsNS04CPaaRAK+8xvDBa2Vqx3VEz6G3etKbxHJuLOvTG\n8hjW+UrGJKgupcAn3H1jz2YzczcmouDmg1BrhN6cMWQB89z3Aq9rdmzrSiEU08Za\nCoZ2ZEcFWk9pkKTSlR6DjrQ=\n-----END PRIVATE KEY-----\n"
FIREBASE_DATABASE_URL=https://aiaccident-default-rtdb.asia-southeast1.firebasedatabase.app/

# ==========================================
# Google Maps API
# ==========================================
GOOGLE_MAPS_API_KEY=AIzaSyAwJZ0luHRvQy9F7aIHYxpOXDP2KUFILHY

# ==========================================
# Service URLs (for inter-service communication)
# ==========================================
USER_SERVICE_URL=http://localhost:3001
ACCIDENT_SERVICE_URL=http://localhost:3002
VIDEO_SERVICE_URL=http://localhost:3003
AI_SERVICE_URL=http://localhost:3004
NOTIFICATION_SERVICE_URL=http://localhost:3005
MAP_SERVICE_URL=http://localhost:3006
REPORT_SERVICE_URL=http://localhost:3007
CAMERA_SERVICE_URL=http://localhost:3008

# ==========================================
# API Gateway Configuration
# ==========================================
PORT=3000
ALLOWED_ORIGINS=http://localhost:3000,https://your-app-domain.com

# ==========================================
# Rate Limiting
# ==========================================
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100
VIDEO_UPLOAD_DAILY_LIMIT=10

# ==========================================
# File Upload Configuration
# ==========================================
MAX_FILE_SIZE=52428800
ALLOWED_VIDEO_TYPES=video/mp4,video/quicktime,video/x-msvideo
ALLOWED_IMAGE_TYPES=image/jpeg,image/png,image/webp

# ==========================================
# Camera Configuration
# ==========================================
CAMERA_STREAM_INTERVAL=300000
CAMERA_STREAM_DURATION=30
CAMERA_HEALTH_CHECK_INTERVAL=60000

# ==========================================
# AI Detection Configuration
# ==========================================
AI_CONFIDENCE_THRESHOLD=0.5
AI_MIN_ACCIDENT_FRAME_RATIO=0.3
AI_FRAME_INTERVAL=2
MODEL_PATH=/app/models/yolov8n.pt

# ==========================================
# Notification Configuration
# ==========================================
NOTIFICATION_DEFAULT_RADIUS=5000
NOTIFICATION_BATCH_SIZE=100

# ==========================================
# Cache TTL (seconds)
# ==========================================
CACHE_TTL_ACCIDENTS=300
CACHE_TTL_USER_PROFILE=900
CACHE_TTL_CAMERA_LIST=600
CACHE_TTL_NOTIFICATION_SETTINGS=1800

# ==========================================
# Production-specific (uncomment for production)
# ==========================================
# NODE_ENV=production
# DB_HOST=/cloudsql/PROJECT_ID:REGION:INSTANCE_NAME
# Use Cloud SQL Unix socket for better performance