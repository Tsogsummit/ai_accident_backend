# ==========================================
# .env.example - Environment Variables
# ==========================================
# Copy this file to .env and fill in your values
# Never commit .env file to version control!

# ==========================================
# General Configuration
# ==========================================
NODE_ENV=production
LOG_LEVEL=info

# ==========================================
# Database Configuration (PostgreSQL)
# ==========================================
DB_HOST=localhost
DB_PORT=5432
DB_NAME=accident_db
DB_USER=postgres
DB_PASSWORD=your_strong_password_here
DB_MAX_CONNECTIONS=20
DB_IDLE_TIMEOUT=30000
DB_CONNECTION_TIMEOUT=2000

# ==========================================
# Redis Configuration
# ==========================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# ==========================================
# JWT Configuration
# ==========================================
JWT_SECRET=Kf9!sN7d3$Gv@zP1qR8xLwT5eY0uB2mH4cZ
JWT_EXPIRES_IN=7d
JWT_REFRESH_EXPIRES_IN=30d

# ==========================================
# Google Cloud Platform
# ==========================================
GCP_PROJECT_ID=ultra-sound-388300
GCP_KEY_FILE=./gcp-key.json
GCS_BUCKET_NAME="796432732044-asia-east1-blueprint-config"
GCP_REGION=asia-northeast1

# ==========================================
# Firebase (Push Notifications)
# ==========================================
FIREBASE_CREDENTIALS=/app/firebase.json
FIREBASE_DATABASE_URL=https://aiaccident-default-rtdb.asia-southeast1.firebasedatabase.app/


# ==========================================
# Google Maps API
# ==========================================
GOOGLE_MAPS_API_KEY=AIzaSyAwJZ0luHRvQy9F7aIHYxpOXDP2KUFILHY

# ==========================================
# Service URLs (for inter-service communication)
# ==========================================
USER_SERVICE_URL=http://localhost:3001
ACCIDENT_SERVICE_URL=http://localhost:3002
VIDEO_SERVICE_URL=http://localhost:3003
AI_SERVICE_URL=http://localhost:3004
NOTIFICATION_SERVICE_URL=http://localhost:3005
MAP_SERVICE_URL=http://localhost:3006
REPORT_SERVICE_URL=http://localhost:3007
CAMERA_SERVICE_URL=http://localhost:3008

# ==========================================
# API Gateway Configuration
# ==========================================
PORT=3000
ALLOWED_ORIGINS=http://localhost:3000,https://your-app-domain.com

# ==========================================
# Rate Limiting
# ==========================================
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100
VIDEO_UPLOAD_DAILY_LIMIT=10

# ==========================================
# File Upload Configuration
# ==========================================
MAX_FILE_SIZE=52428800
ALLOWED_VIDEO_TYPES=video/mp4,video/quicktime,video/x-msvideo
ALLOWED_IMAGE_TYPES=image/jpeg,image/png,image/webp

# ==========================================
# Camera Configuration
# ==========================================
CAMERA_STREAM_INTERVAL=300000
CAMERA_STREAM_DURATION=30
CAMERA_HEALTH_CHECK_INTERVAL=60000

# ==========================================
# AI Detection Configuration
# ==========================================
AI_CONFIDENCE_THRESHOLD=0.5
AI_MIN_ACCIDENT_FRAME_RATIO=0.3
AI_FRAME_INTERVAL=2
MODEL_PATH=/app/models/yolov8n.pt

# ==========================================
# Notification Configuration
# ==========================================
NOTIFICATION_DEFAULT_RADIUS=5000
NOTIFICATION_BATCH_SIZE=100

# ==========================================
# Cache TTL (seconds)
# ==========================================
CACHE_TTL_ACCIDENTS=300
CACHE_TTL_USER_PROFILE=900
CACHE_TTL_CAMERA_LIST=600
CACHE_TTL_NOTIFICATION_SETTINGS=1800

# ==========================================
# Production-specific (uncomment for production)
# ==========================================
# NODE_ENV=production
# DB_HOST=/cloudsql/PROJECT_ID:REGION:INSTANCE_NAME
# Use Cloud SQL Unix socket for better performance